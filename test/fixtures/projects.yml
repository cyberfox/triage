<%
def fixture_data(name)
  render_binary("#{RAILS_ROOT}/test/fixtures/yaml/#{name}.yml")
end

def render_binary(filename)
  data = File.open(filename,'rb').read
  "!binary | #{[data].pack('m').gsub(/\n/,"\n    ")}\n"
end
%>

# Read about fixtures at http://ar.rubyonrails.org/classes/Fixtures.html

jbidwatcher:
  lighthouse_id: 8037
  user: quentin
  name: JBidwatcher
  data: <%= fixture_data('project') %>
  updated_at: <%= 10.minutes.ago %>

out_of_date:
  lighthouse_id: 8037
  user: jim
  name: JBidwatcher
  data: <%= fixture_data('project') %>
  updated_at: <%= 15.days.ago %>

current:
  lighthouse_id: 8037
  user: old_password_holder
  name: JBidwatcher
  data: <%= fixture_data('project') %>
  updated_at: <%= 10.hours.ago %>
